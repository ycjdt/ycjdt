<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>you can just do things</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Lora, regular weight (400) only -->
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400&display=swap" rel="stylesheet">
    <!-- Space Mono - a modern monospace font -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <!-- Tasa Orbiter placeholder -->
    <style>
        @import url('https://fonts.cdnfonts.com/css/tasa-orbiter');
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <div class="title-container">
                <h1><a href="index.html"><span class="globe-icon">üåê</span> ycjdt</a></h1>
                <p class="subtitle">The latest in people just doing things</p>
            </div>
            <div class="subscribe-container">
                <a href="#" class="subscribe-button">Subscribe</a>
            </div>
        </div>
    </header>
    <main>
        <section class="news-inbox">
            <a href="grift.html" class="news-item-link">
                <div class="news-item">
                    <div class="news-image">
                        <img src="cd5.jpg" alt="Abstract art - Grift">
                    </div>
                    <div class="news-content">
                        <h3>You Can Just... Grift?</h3>
                        <p class="news-preview">Distinguishing between genuine builders and opportunistic grifters in the tech ecosystem.</p>
                        <span class="details">March 03, 2025</span>
                    </div>
                </div>
            </a>
            <a href="the-mission.html" class="news-item-link">
                <div class="news-item">
                    <div class="news-image">
                        <img src="cd5.jpg" alt="Abstract art - Why">
                    </div>
                    <div class="news-content">
                        <h3>Why</h3>
                        <p class="news-preview">The world deserves better context.</p>
                        <span class="details">March 02, 2025</span>
                    </div>
                </div>
            </a>
        </section>
    </main>
    
    <!-- Subscription Popup -->
    <div id="subscription-overlay" class="overlay">
        <div class="popup">
            <div class="popup-header">
                <h2>you can just subscribe</h2>
                <span class="close-btn">&times;</span>
            </div>
            <p class="popup-subtitle">(to the latest ycjdt stories)</p>
            <div class="popup-content">
                <form id="subscribe-form" action="https://formspree.io/f/mvgzewbl" method="POST">
                    <input type="email" name="email" id="subscriber-email" placeholder="Your email address" required>
                    <input type="hidden" name="source" value="Home Page">
                    <button type="submit">Subscribe</button>
                </form>
                <p id="form-status" class="form-status"></p>
            </div>
        </div>
    </div>

    <script>
        // Subscription popup functionality
        document.addEventListener('DOMContentLoaded', function() {
            const subscribeBtn = document.querySelector('.subscribe-button');
            const overlay = document.getElementById('subscription-overlay');
            const closeBtn = document.querySelector('.close-btn');
            
            // Open popup when subscribe button is clicked
            subscribeBtn.addEventListener('click', function(e) {
                e.preventDefault();
                overlay.classList.add('active');
                document.body.classList.add('no-scroll');
            });
            
            // Close popup when X is clicked
            closeBtn.addEventListener('click', function() {
                overlay.classList.remove('active');
                document.body.classList.remove('no-scroll');
            });
            
            // Close popup when clicking outside the popup
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    overlay.classList.remove('active');
                    document.body.classList.remove('no-scroll');
                }
            });
            
            // Handle form submission
            const form = document.getElementById('subscribe-form');
            const formStatus = document.getElementById('form-status');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show loading message
                formStatus.textContent = "Subscribing...";
                formStatus.className = "form-status loading";
                
                // Submit the form using Formspree
                const formData = new FormData(form);
                
                fetch(form.action, {
                    method: 'POST',
                    body: formData,
                    headers: {
                        'Accept': 'application/json'
                    }
                })
                .then(response => {
                    if (response.ok) {
                        // Success
                        formStatus.textContent = "Thanks for subscribing!";
                        formStatus.className = "form-status success";
                        form.reset();
                        
                        // Close popup after 2 seconds
                        setTimeout(() => {
                            overlay.classList.remove('active');
                            document.body.classList.remove('no-scroll');
                            formStatus.textContent = "";
                            formStatus.className = "form-status";
                        }, 2000);
                    } else {
                        // Error
                        throw new Error('Network response was not ok');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    formStatus.textContent = "Something went wrong. Please try again.";
                    formStatus.className = "form-status error";
                });
            });
        });
    </script>
</body>
</html>